{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/cart.service\";\nimport * as i4 from \"@angular/forms\";\nclass LoginComponent {\n  constructor(authService, router, cartService) {\n    this.authService = authService;\n    this.router = router;\n    this.cartService = cartService;\n  }\n  login() {\n    const user = {\n      username: this.username,\n      password: this.password\n    };\n    this.authService.login(user).subscribe(data => {\n      const firstName = data.firstName;\n      const lastName = data.lastName;\n      const email = data.email;\n      const username = data.username;\n      const accessToken = data.accessToken;\n      const refreshToken = data.refreshToken;\n      this.authService.saveTokens(accessToken, refreshToken);\n      if (data.username) {\n        this.router.navigateByUrl('/home');\n        this.cartService.getIdsFromItemsFromShoppingCart();\n        this.authService.emitUsername(username);\n        this.authService.emitInfo(email);\n      }\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CartService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 8,\n  vars: 2,\n  consts: [[1, \"login\"], [\"method\", \"post\", 1, \"custom-form\"], [\"type\", \"email\", \"name\", \"username\", \"placeholder\", \"username or email\", \"required\", \"required\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Password\", \"required\", \"required\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1)(2, \"h1\");\n      i0.ɵɵtext(3, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.username = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_6_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵtext(7, \"Log in\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.username);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"*[_ngcontent-%COMP%] {\\n    box-sizing: border-box;\\n  }\\n  html[_ngcontent-%COMP%], body[_ngcontent-%COMP%] {\\n    background: #ecf0f3;\\n  }\\n  h1[_ngcontent-%COMP%] {\\n    margin: 0;\\n    padding: 0;\\n  }\\n  .custom-form[_ngcontent-%COMP%] {\\n    min-width: 300px;\\n    max-width: 60%;\\n    margin: 0px auto;\\n    background: rgba(255, 255, 255, 0.15);\\n    padding: 2rem 3rem;\\n    margin: auto;\\n    border-radius: 2.5rem;\\n    background-color: #ecf0f3;\\n    box-shadow: 13px 13px 20px #cbced1, -13px -13px 20px #ffffff;\\n    color: black;\\n    margin-top: 10rem;\\n  }\\n  .custom-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    display: block;\\n    margin: 2rem 0;\\n    width: 100%;\\n    border-radius: 0.5rem;\\n    padding: 1rem;\\n    border: none;\\n    box-shadow: inset -5px -5px 15px rgba(255, 255, 255, 0.8), inset 5px 5px 10px\\n        rgba(0, 0, 0, 0.1);\\n    border: 0 none;\\n    background: #ebf5fc;\\n  }\\n  .custom-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    text-transform: uppercase;\\n    letter-spacing: 0.15em;\\n    border: none;\\n    font-size: 0.875rem;\\n    color: #ffffff;\\n    font-weight: bold;\\n    background-color: #bcd8c1;\\n    width: 100%;\\n    display: block;\\n    padding: 0.875rem 1rem;\\n    border-radius: 1.5rem;\\n    box-shadow: 3px 3px 8px #b1b1b1, -3px -3px 8px #ffffff;\\n    cursor: pointer;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtJQUNJLHNCQUFzQjtFQUN4QjtFQUNBOztJQUVFLG1CQUFtQjtFQUNyQjtFQUNBO0lBQ0UsU0FBUztJQUNULFVBQVU7RUFDWjtFQUNBO0lBQ0UsZ0JBQWdCO0lBQ2hCLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIscUNBQXFDO0lBQ3JDLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1oscUJBQXFCO0lBQ3JCLHlCQUF5QjtJQUN6Qiw0REFBNEQ7SUFDNUQsWUFBWTtJQUNaLGlCQUFpQjtFQUNuQjtFQUNBO0lBQ0UsY0FBYztJQUNkLGNBQWM7SUFDZCxXQUFXO0lBQ1gscUJBQXFCO0lBQ3JCLGFBQWE7SUFDYixZQUFZO0lBQ1o7MEJBQ3NCO0lBQ3RCLGNBQWM7SUFDZCxtQkFBbUI7RUFDckI7RUFDQTtJQUNFLHlCQUF5QjtJQUN6QixzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixjQUFjO0lBQ2QsaUJBQWlCO0lBQ2pCLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsY0FBYztJQUNkLHNCQUFzQjtJQUN0QixxQkFBcUI7SUFDckIsc0RBQXNEO0lBQ3RELGVBQWU7RUFDakIiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuKiB7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIH1cclxuICBodG1sLFxyXG4gIGJvZHkge1xyXG4gICAgYmFja2dyb3VuZDogI2VjZjBmMztcclxuICB9XHJcbiAgaDEge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICB9XHJcbiAgLmN1c3RvbS1mb3JtIHtcclxuICAgIG1pbi13aWR0aDogMzAwcHg7XHJcbiAgICBtYXgtd2lkdGg6IDYwJTtcclxuICAgIG1hcmdpbjogMHB4IGF1dG87XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpO1xyXG4gICAgcGFkZGluZzogMnJlbSAzcmVtO1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMi41cmVtO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VjZjBmMztcclxuICAgIGJveC1zaGFkb3c6IDEzcHggMTNweCAyMHB4ICNjYmNlZDEsIC0xM3B4IC0xM3B4IDIwcHggI2ZmZmZmZjtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIG1hcmdpbi10b3A6IDEwcmVtO1xyXG4gIH1cclxuICAuY3VzdG9tLWZvcm0gaW5wdXQge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW46IDJyZW0gMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xyXG4gICAgcGFkZGluZzogMXJlbTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJveC1zaGFkb3c6IGluc2V0IC01cHggLTVweCAxNXB4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KSwgaW5zZXQgNXB4IDVweCAxMHB4XHJcbiAgICAgICAgcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgYm9yZGVyOiAwIG5vbmU7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZWJmNWZjO1xyXG4gIH1cclxuICAuY3VzdG9tLWZvcm0gYnV0dG9uIHtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBsZXR0ZXItc3BhY2luZzogMC4xNWVtO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgZm9udC1zaXplOiAwLjg3NXJlbTtcclxuICAgIGNvbG9yOiAjZmZmZmZmO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmNkOGMxO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHBhZGRpbmc6IDAuODc1cmVtIDFyZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiAxLjVyZW07XHJcbiAgICBib3gtc2hhZG93OiAzcHggM3B4IDhweCAjYjFiMWIxLCAtM3B4IC0zcHggOHB4ICNmZmZmZmY7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { LoginComponent };","map":{"version":3,"names":["LoginComponent","constructor","authService","router","cartService","login","user","username","password","subscribe","data","firstName","lastName","email","accessToken","refreshToken","saveTokens","navigateByUrl","getIdsFromItemsFromShoppingCart","emitUsername","emitInfo","i0","ɵɵdirectiveInject","i1","AuthService","i2","Router","i3","CartService","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_Template_input_ngModelChange_4_listener","$event","LoginComponent_Template_input_ngModelChange_5_listener","LoginComponent_Template_button_click_6_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\josed\\Escritorio\\WebDev\\1 ANGULAR\\frontEcommerceAngular\\src\\app\\components\\login\\login.component.ts","C:\\Users\\josed\\Escritorio\\WebDev\\1 ANGULAR\\frontEcommerceAngular\\src\\app\\components\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\nimport { CartService } from 'src/app/services/cart.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n\n  username!: string;\n  password!: string;\n\n  constructor(private authService: AuthService, private router: Router, private cartService: CartService) {}\n\n  login() {\n    const user = { username: this.username, password: this.password };\n\n    this.authService.login(user).subscribe((data) => {\n      const firstName = data.firstName\n      const lastName = data.lastName\n      const email = data.email\n      const username = data.username;\n      const accessToken = data.accessToken;\n      const refreshToken = data.refreshToken;\n\n      \n      this.authService.saveTokens(accessToken, refreshToken);\n\n      if(data.username){\n        this.router.navigateByUrl('/home')\n        this.cartService.getIdsFromItemsFromShoppingCart()\n        this.authService.emitUsername(username)\n        this.authService.emitInfo(email)\n\n      }\n    });\n  }\n}\n","<div class=\"login\">\n  <form class=\"custom-form\" method=\"post\">\n    <h1>Login</h1>\n    <input type=\"email\" [(ngModel)]=\"username\" name=\"username\" placeholder=\"username or email\" required=\"required\" />\n    <input type=\"password\" [(ngModel)]=\"password\" name=\"password\" placeholder=\"Password\" required=\"required\" />\n    <button type=\"submit\" (click)=\"login()\">Log in</button>\n  </form>\n</div>"],"mappings":";;;;;AAKA,MAKaA,cAAc;EAKzBC,YAAoBC,WAAwB,EAAUC,MAAc,EAAUC,WAAwB;IAAlF,KAAAF,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAAkB,KAAAC,WAAW,GAAXA,WAAW;EAAgB;EAEzGC,KAAKA,CAAA;IACH,MAAMC,IAAI,GAAG;MAAEC,QAAQ,EAAE,IAAI,CAACA,QAAQ;MAAEC,QAAQ,EAAE,IAAI,CAACA;IAAQ,CAAE;IAEjE,IAAI,CAACN,WAAW,CAACG,KAAK,CAACC,IAAI,CAAC,CAACG,SAAS,CAAEC,IAAI,IAAI;MAC9C,MAAMC,SAAS,GAAGD,IAAI,CAACC,SAAS;MAChC,MAAMC,QAAQ,GAAGF,IAAI,CAACE,QAAQ;MAC9B,MAAMC,KAAK,GAAGH,IAAI,CAACG,KAAK;MACxB,MAAMN,QAAQ,GAAGG,IAAI,CAACH,QAAQ;MAC9B,MAAMO,WAAW,GAAGJ,IAAI,CAACI,WAAW;MACpC,MAAMC,YAAY,GAAGL,IAAI,CAACK,YAAY;MAGtC,IAAI,CAACb,WAAW,CAACc,UAAU,CAACF,WAAW,EAAEC,YAAY,CAAC;MAEtD,IAAGL,IAAI,CAACH,QAAQ,EAAC;QACf,IAAI,CAACJ,MAAM,CAACc,aAAa,CAAC,OAAO,CAAC;QAClC,IAAI,CAACb,WAAW,CAACc,+BAA+B,EAAE;QAClD,IAAI,CAAChB,WAAW,CAACiB,YAAY,CAACZ,QAAQ,CAAC;QACvC,IAAI,CAACL,WAAW,CAACkB,QAAQ,CAACP,KAAK,CAAC;;IAGpC,CAAC,CAAC;EACJ;;AA7BWb,cAAc,C;mBAAdA,cAAc,EAAAqB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,MAAA,GAAAL,EAAA,CAAAC,iBAAA,CAAAK,EAAA,CAAAC,WAAA;AAAA;AAAd5B,cAAc,C;QAAdA,cAAc;EAAA6B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCV3Bd,EAAA,CAAAgB,cAAA,aAAmB;MAEXhB,EAAA,CAAAiB,MAAA,YAAK;MAAAjB,EAAA,CAAAkB,YAAA,EAAK;MACdlB,EAAA,CAAAgB,cAAA,eAAiH;MAA7FhB,EAAA,CAAAmB,UAAA,2BAAAC,uDAAAC,MAAA;QAAA,OAAAN,GAAA,CAAA7B,QAAA,GAAAmC,MAAA;MAAA,EAAsB;MAA1CrB,EAAA,CAAAkB,YAAA,EAAiH;MACjHlB,EAAA,CAAAgB,cAAA,eAA2G;MAApFhB,EAAA,CAAAmB,UAAA,2BAAAG,uDAAAD,MAAA;QAAA,OAAAN,GAAA,CAAA5B,QAAA,GAAAkC,MAAA;MAAA,EAAsB;MAA7CrB,EAAA,CAAAkB,YAAA,EAA2G;MAC3GlB,EAAA,CAAAgB,cAAA,gBAAwC;MAAlBhB,EAAA,CAAAmB,UAAA,mBAAAI,gDAAA;QAAA,OAASR,GAAA,CAAA/B,KAAA,EAAO;MAAA,EAAC;MAACgB,EAAA,CAAAiB,MAAA,aAAM;MAAAjB,EAAA,CAAAkB,YAAA,EAAS;;;MAFnClB,EAAA,CAAAwB,SAAA,GAAsB;MAAtBxB,EAAA,CAAAyB,UAAA,YAAAV,GAAA,CAAA7B,QAAA,CAAsB;MACnBc,EAAA,CAAAwB,SAAA,GAAsB;MAAtBxB,EAAA,CAAAyB,UAAA,YAAAV,GAAA,CAAA5B,QAAA,CAAsB;;;;;;SDMpCR,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}