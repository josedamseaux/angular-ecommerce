{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CartComponent = class CartComponent {\n  constructor(cartService, productService, http) {\n    this.cartService = cartService;\n    this.productService = productService;\n    this.http = http;\n    this.productsInCart = [];\n    this.apiForPurchase = 'http://localhost:8000/api/payments/pay-with-stripe';\n  }\n  ngOnInit() {\n    this.getItemsInCart();\n  }\n  getItemsInCart() {\n    this.cartService.getItemsOnCart().subscribe(DATA => {\n      // console.log(DATA)\n      let aver = [];\n      aver = DATA;\n      aver.forEach(element => {\n        const base64Image = this.productService.arrayBufferToBase64(element.imageData.data);\n        element.imges = ['data:' + element.imageData.type + ';base64,' + base64Image];\n        delete element.imageData; // Eliminar la propiedad imageData\n      });\n\n      this.productsInCart = DATA;\n    });\n  }\n  deleteFromCart(product) {\n    console.log(product.id);\n    let id = product.id;\n    this.cartService.deleteItemInCart(id);\n  }\n  payWithStripe() {\n    this.http.post;\n    // const updatedCart = this.shoppingCart.map((item: any) => ({\n    //   ...item,\n    //   price: item.price * 100 // Multiplicar el precio por 100\n    // }));\n    // console.log(this.shoppingCart)\n    // console.log(updatedCart)\n    // this.p.redirectToCheckout(updatedCart, 'Pago prueba Tiendita')\n  }\n};\n\nCartComponent = __decorate([Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})], CartComponent);\nexport { CartComponent };","map":{"version":3,"names":["Component","CartComponent","constructor","cartService","productService","http","productsInCart","apiForPurchase","ngOnInit","getItemsInCart","getItemsOnCart","subscribe","DATA","aver","forEach","element","base64Image","arrayBufferToBase64","imageData","data","imges","type","deleteFromCart","product","console","log","id","deleteItemInCart","payWithStripe","post","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\josed\\Escritorio\\WebDev\\1 ANGULAR\\frontEcommerceAngular\\src\\app\\components\\cart\\cart.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CartService } from 'src/app/services/cart.service';\nimport { ProductService } from 'src/app/services/product.service';\n\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit {\n\n  constructor(private cartService: CartService, private productService: ProductService, private http: HttpClient){}\n\n  productsInCart: any = []\n\n  private apiForPurchase = 'http://localhost:8000/api/payments/pay-with-stripe'\n\n  ngOnInit(): void {\n    this.getItemsInCart()  \n  }\n\n  getItemsInCart(){\n    this.cartService.getItemsOnCart().subscribe((DATA: any)=>{\n      // console.log(DATA)\n      let aver = []\n      aver = DATA\n      aver.forEach((element: any) => {\n        const base64Image = this.productService.arrayBufferToBase64(element.imageData.data);\n        element.imges = ['data:' + element.imageData.type + ';base64,' + base64Image];\n        delete element.imageData; // Eliminar la propiedad imageData\n      });\n      this.productsInCart = DATA\n    })\n  }\n\n  deleteFromCart(product: any){\n    console.log(product.id)\n    let id: string = product.id\n    this.cartService.deleteItemInCart(id)\n  }\n\n  payWithStripe(){\n\n    this.http.post\n    // const updatedCart = this.shoppingCart.map((item: any) => ({\n    //   ...item,\n    //   price: item.price * 100 // Multiplicar el precio por 100\n    // }));\n\n    // console.log(this.shoppingCart)\n    // console.log(updatedCart)\n\n    // this.p.redirectToCheckout(updatedCart, 'Pago prueba Tiendita')\n  }\n  \n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AASjD,IAAaC,aAAa,GAA1B,MAAaA,aAAa;EAExBC,YAAoBC,WAAwB,EAAUC,cAA8B,EAAUC,IAAgB;IAA1F,KAAAF,WAAW,GAAXA,WAAW;IAAuB,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAAC,IAAI,GAAJA,IAAI;IAElG,KAAAC,cAAc,GAAQ,EAAE;IAEhB,KAAAC,cAAc,GAAG,oDAAoD;EAJmC;EAMhHC,QAAQA,CAAA;IACN,IAAI,CAACC,cAAc,EAAE;EACvB;EAEAA,cAAcA,CAAA;IACZ,IAAI,CAACN,WAAW,CAACO,cAAc,EAAE,CAACC,SAAS,CAAEC,IAAS,IAAG;MACvD;MACA,IAAIC,IAAI,GAAG,EAAE;MACbA,IAAI,GAAGD,IAAI;MACXC,IAAI,CAACC,OAAO,CAAEC,OAAY,IAAI;QAC5B,MAAMC,WAAW,GAAG,IAAI,CAACZ,cAAc,CAACa,mBAAmB,CAACF,OAAO,CAACG,SAAS,CAACC,IAAI,CAAC;QACnFJ,OAAO,CAACK,KAAK,GAAG,CAAC,OAAO,GAAGL,OAAO,CAACG,SAAS,CAACG,IAAI,GAAG,UAAU,GAAGL,WAAW,CAAC;QAC7E,OAAOD,OAAO,CAACG,SAAS,CAAC,CAAC;MAC5B,CAAC,CAAC;;MACF,IAAI,CAACZ,cAAc,GAAGM,IAAI;IAC5B,CAAC,CAAC;EACJ;EAEAU,cAAcA,CAACC,OAAY;IACzBC,OAAO,CAACC,GAAG,CAACF,OAAO,CAACG,EAAE,CAAC;IACvB,IAAIA,EAAE,GAAWH,OAAO,CAACG,EAAE;IAC3B,IAAI,CAACvB,WAAW,CAACwB,gBAAgB,CAACD,EAAE,CAAC;EACvC;EAEAE,aAAaA,CAAA;IAEX,IAAI,CAACvB,IAAI,CAACwB,IAAI;IACd;IACA;IACA;IACA;IAEA;IACA;IAEA;EACF;CAED;;AA9CY5B,aAAa,GAAA6B,UAAA,EALzB9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWhC,aAAa,CA8CzB;SA9CYA,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}