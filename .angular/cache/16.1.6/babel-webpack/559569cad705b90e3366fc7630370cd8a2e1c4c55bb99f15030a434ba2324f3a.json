{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/cart.service\";\nimport * as i4 from \"@angular/common\";\nfunction ProductsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2);\n    i0.ɵɵelement(2, \"img\", 3);\n    i0.ɵɵelementStart(3, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_div_1_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const product_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addToCart(product_r1));\n    });\n    i0.ɵɵtext(4, \"ADD TO CART\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"h5\", 6);\n    i0.ɵɵtext(7, \"Card title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 7);\n    i0.ɵɵtext(9, \"Some quick example text to build on the card title and make up the bulk of the card's content.\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", product_r1.imges[0], i0.ɵɵsanitizeUrl);\n  }\n}\nclass ProductsComponent {\n  constructor(productService, router, cartService) {\n    this.productService = productService;\n    this.router = router;\n    this.cartService = cartService;\n    this.imgs = [];\n    this.getData();\n  }\n  getData() {\n    this.imgs = [];\n    this.productService.getProducts().subscribe(reso => {\n      console.log(reso);\n      this.products = reso;\n      reso.forEach(element => {\n        const base64Image = this.productService.arrayBufferToBase64(element.imageData.data);\n        element.imges = ['data:' + element.imageData.type + ';base64,' + base64Image];\n        delete element.imageData; // Eliminar la propiedad imageData\n      });\n    });\n  }\n\n  productDetails(i) {\n    this.router.navigate(['/product', i]);\n  }\n  addToCart(product) {\n    console.log(product);\n    // this.cartService.addToCart(product)\n    this.cartService.addToCart(product.id);\n  }\n}\nProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n  return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CartService));\n};\nProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductsComponent,\n  selectors: [[\"app-products\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"container\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card\", 2, \"width\", \"18rem\"], [\"alt\", \"Product Image\", 2, \"width\", \"300px\", \"height\", \"350px\", 3, \"src\"], [\"href\", \"#\", 1, \"btn\", \"btn-black\", 3, \"click\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"]],\n  template: function ProductsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, ProductsComponent_div_1_Template, 10, 1, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i4.NgForOf],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ProductsComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵelement","ɵɵlistener","ProductsComponent_div_1_Template_button_click_3_listener","restoredCtx","ɵɵrestoreView","_r4","product_r1","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","addToCart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","imges","ɵɵsanitizeUrl","ProductsComponent","constructor","productService","router","cartService","imgs","getData","getProducts","subscribe","reso","console","log","products","forEach","element","base64Image","arrayBufferToBase64","imageData","data","type","productDetails","i","navigate","product","id","ɵɵdirectiveInject","i1","ProductService","i2","Router","i3","CartService","selectors","decls","vars","consts","template","ProductsComponent_Template","rf","ctx","ɵɵtemplate","ProductsComponent_div_1_Template"],"sources":["C:\\Users\\josed\\Escritorio\\WebDev\\1 ANGULAR\\frontEcommerceAngular\\src\\app\\components\\products\\products.component.ts","C:\\Users\\josed\\Escritorio\\WebDev\\1 ANGULAR\\frontEcommerceAngular\\src\\app\\components\\products\\products.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ProductService } from '../../services/product.service';\nimport { ProductInterface } from '../../interfaces/product.interface';\nimport { Subscription } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { CartService } from 'src/app/services/cart.service';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent {\n\n  imgs: any[] = [];\n\n  constructor(private productService: ProductService, private router: Router, private cartService: CartService) {\n    this.getData();\n  \n  }\n\n  getData() {\n    this.imgs = [];\n    this.productService.getProducts().subscribe((reso: any) => {\n      console.log(reso);\n      this.products = reso;\n      reso.forEach((element: any) => {\n        const base64Image = this.productService.arrayBufferToBase64(element.imageData.data);\n        element.imges = ['data:' + element.imageData.type + ';base64,' + base64Image];\n        delete element.imageData; // Eliminar la propiedad imageData\n      });\n    });\n  }\n  \n  productDetails(i: number) {\n    this.router.navigate(['/product', i]);\n  }\n\n  addToCart(product: any){\n    console.log(product)\n    // this.cartService.addToCart(product)\n    this.cartService.addToCart(product.id)\n  }\n\n\n\n}","<div class=\"container\">\r\n  <div *ngFor=\"let product of products; let i = index\">\r\n    <div class=\"card\" style=\"width: 18rem;\">\r\n      <img [src]=\"product.imges[0]\" style=\"width: 300px; height: 350px;\" alt=\"Product Image\">\r\n      <!-- <button href=\"#\" class=\"btn btn-danger\" (click)=\"productDetails(i)\">ELIMINAR</button> -->\r\n      <button href=\"#\" class=\"btn btn-black\" (click)=\"addToCart(product)\">ADD TO CART</button>\r\n\r\n      <div class=\"card-body\">\r\n        <h5 class=\"card-title\">Card title</h5>\r\n        <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's\r\n          content.</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}